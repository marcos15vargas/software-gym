---
import Layout from "../layouts/Layout.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/dashboard");
}

import Logo from "../assets/Logo.astro";
---

<Layout >
  <main class="flex items-center justify-center h-screen">
    <section class="w-xl mx-auto p-4 text-white border border-amarillo md:flex">
      <div class="p-4 flex flex-col items-center w-full">
        <div class="w-28 mx-auto mb-4 ">
          <Logo />
        </div>
        <h1 class="text-3xl text-amarillo font-bold text-center">Iniciar sesión</h1>
        <form class="mt-2 w-full" action="/api/auth/signin" method="POST">
          <div class="mb-3 flex flex-col">
            <label class="mb-2 font-bold" for="text">Correo</label>
            <input class="border border-amarillo rounded focus:outline-none" type="email" name="email" id="email" />
          </div>
          <div class="mb-8 flex flex-col">
            <label class="mb-2 font-bold" for="password">Contraseña</label>
            <input class="border border-amarillo rounded focus:outline-none" type="password" name="password" id="password" />
          </div>
          <div class="flex flex-col items-center gap-2 ">
            <button class="p-3 bg-amarillo rounded-md hover:opacity-80 text-black font-bold transition-all cursor-pointer" type="submit">Iniciar sesión</button>
          </div>
          
        </form>
      </div>
    </section>
  </main>
 
</Layout>